<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Containers - HADF-Overview</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Containers | HADF-Overview</title> <meta name="generator" content="Jekyll v3.8.7" /> <meta property="og:title" content="Containers" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Hosting and Application Development Framework" /> <meta property="og:description" content="Hosting and Application Development Framework" /> <link rel="canonical" href="http://localhost:4000/docs/DeliverableC/Compute/Containers.html" /> <meta property="og:url" content="http://localhost:4000/docs/DeliverableC/Compute/Containers.html" /> <meta property="og:site_name" content="HADF-Overview" /> <script type="application/ld+json"> {"url":"http://localhost:4000/docs/DeliverableC/Compute/Containers.html","description":"Hosting and Application Development Framework","@type":"WebPage","headline":"Containers","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000" class="site-title lh-tight"> HADF-Overview </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item active"><a href="http://localhost:4000/docs/OldeREADME.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="http://localhost:4000/docs/Testcontent.html" class="navigation-list-link"></a></li><li class="navigation-list-item"><a href="http://localhost:4000/docs/" class="navigation-list-link">Hosting and Application Development Framework</a></li><li class="navigation-list-item"><a href="http://localhost:4000/docs/DeliverableC/" class="navigation-list-link">C. Modernization Playbook</a><ul class="navigation-list-child-list "></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/BusinessApplications.html" class="navigation-list-link">Business Applications</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/CRM.html" class="navigation-list-link">Client Relationship Management</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/CaseManagement.html" class="navigation-list-link">Case Management</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/HR.html" class="navigation-list-link">Human Resources</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/Payment.html" class="navigation-list-link">Payment</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/GrantManagement.html" class="navigation-list-link">Grant Management</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/CallCentre.html" class="navigation-list-link">Call Centre</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/Survey.html" class="navigation-list-link">Survey</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/Learning.html" class="navigation-list-link">Learning Management System</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/ServiceManagement.html" class="navigation-list-link">Service Management</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/Licensing.html" class="navigation-list-link">License Management System</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/Onlinedisputes.html" class="navigation-list-link">Online Disputes</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/PortfolioManagement.html" class="navigation-list-link">Portfolio Management</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/ContentManagement.html" class="navigation-list-link">Content Management</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/Mapping.html" class="navigation-list-link">Mapping</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/Registry.html" class="navigation-list-link">Registry</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Business%20Applications/Reporting.html" class="navigation-list-link">Reporting</a></li></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/docs/DeliverableC/System%20Applications/SystemApplications.html" class="navigation-list-link">System Applications</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/System%20Applications/Notification.html" class="navigation-list-link">Notification</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/System%20Applications/AccessMgt.html" class="navigation-list-link">Access Management</a></li></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/docs/DeliverableC/Productivity%20Applications/ProductivityApplications.html" class="navigation-list-link">Productivity Applications</a><ul class="navigation-list-child-list "></ul></li><li class="navigation-list-item active"><a href="http://localhost:4000/docs/DeliverableC/Compute/Compute.html" class="navigation-list-link">Compute</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Compute/PhysicalServers.html" class="navigation-list-link">Physical Servers</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Compute/VirtualMachines.html" class="navigation-list-link">Virtual Machines</a></li><li class="navigation-list-item active"><a href="http://localhost:4000/docs/DeliverableC/Compute/Containers.html" class="navigation-list-link active">Containers</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Compute/Serverless.html" class="navigation-list-link">Serverless Compute</a></li></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/docs/DeliverableC/Storage/Storage.html" class="navigation-list-link">Storage</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Storage/PhysicalStorage.html" class="navigation-list-link">Physical Storage</a><ul class="navigation-list-child-list"><li class="navigation-list-item "> <a href="http://localhost:4000/docs/DeliverableC/Storage/ObjectStorage.html" class="navigation-list-link">Object Storage</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/docs/DeliverableC/Storage/BlockStorage.html" class="navigation-list-link">Block Storage</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/docs/DeliverableC/Storage/FileStorage.html" class="navigation-list-link">File Storage</a> </li></ul></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/DeliverableC/Storage/LogicalStorage.html" class="navigation-list-link">Data Store</a><ul class="navigation-list-child-list"><li class="navigation-list-item "> <a href="http://localhost:4000/docs/DeliverableC/Storage/NoSQLDatabase.html" class="navigation-list-link">NoSQL Database</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/docs/DeliverableC/Storage/RelationalDatabase.html" class="navigation-list-link">Relational Database</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/docs/DeliverableC/Storage/DataWarehouse.html" class="navigation-list-link">Data Warehouse</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/docs/DeliverableC/Storage/ColdDataStorage.html" class="navigation-list-link">Cold Data Storage</a> </li></ul></li></ul></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search HADF-Overview" aria-label="Search HADF-Overview" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> <ul class="list-style-none text-small aux-nav"> <li class="d-inline-block my-0"><a href="//github.com/bcgov/HADF-Overview/">Edit on Github</a></li> </ul> </div> <div class="page"> <nav class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/DeliverableC/Compute/Compute.html">Compute</a></li> <li class="breadcrumb-nav-list-item"><span>Containers</span></li> </ol> </nav> <div id="main-content" class="page-content" role="main"> <h1 id="containers"> <a href="#containers" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Containers </h1> <p>Containers are an evolution of the Virtual Machines. Whilst Virtual Machines themselves being guest machines with operating systems installed that add a significant overhead on the host, containers are small run time environments which share the base operating system kernel which contain just enough resources to run your applications. As defined by Docker, they are isolated from one another, bundle their own software, libraries and configuration files and can communicate with each other using well defined channels. Containers are loosely coupled and short lived and require orchestration platforms to help manage them.</p> <p>Container Orchestration Platforms help in creating clusters of resource pools or nodes and enabling to share resources among the nodes belonging within a cluster. These nodes can be physical servers or virtual machines. The Openshift Platform set up by BC Gov uses around 20 nodes which are virtual machines hosted in the on prem data center. There is also work being done in hosting these nodes on Azure Virtual Machines.</p> <p>Kubernetes is an open source container orchestration platform that helps to automate the deployment of containers, and help manage other aspects such as resource utilization, scaling and load balancing. Though originally designed by google, Kubernetes is now managed by Cloud Native Computing Foundation.</p> <p>OpenShift Container Platform, an on-premises platform as a service, used widely in the BC Government is built around Docker containers orchestrated and managed by Kubernetes on a foundation of Red Hat Enterprise Linux. Openshift therefore comes with better and more strict security policies than default kubernetes. One of the major advantages of using openshift is it forbids to run the containers as “root” or “super-user” account. This can prevent ad-hoc changes from the development team on production applications, which might be not recorded or applied to the next deployment or might be quick fixes. Openshift locks down this approach and enables the development team to troubleshoot issues and apply long term bug fixes with just a single path to make changes to the production environment which should typically be the CI/CD pipeline.</p> <p>Adopting Containers help adopt a DevOps culture within your team and helps to decouple your applications, reduce dependencies, and work towards a domain driven design approach. Containers die easily and can be easily started from the container image built and stored in the platform registry from your application code. This is automatically done by the orchestration platform and so is the sharing and allocation of resources.</p> <p>By using containers, and configuring them for high availability and resilience, you can ensure that, even if the node on which the container lives crashes, the replicas on other nodes remain unaffected. It has been found that the overall cluster availability was 99.99% for the BC Gov Openshift Cluster even though individual node availability has been around 80%.</p> <p><a href="assets/VMVsContainers.xlsx">Virtual Machines vs Containers</a></p> <h2 id="pros"> <a href="#pros" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Pros </h2> <ol> <li>Containers are light weight utilize minimal hardware resources in comparison to Virtual Machines and Physical Servers. While Virtual Machines might need 1GB of RAM or 2 CPU cores, a container might just require 512 MB of RAM and 500 millicores of CPU to run the same application.</li> <li>Applications deployed in containers are highly portable and can be deployed easily to different operating systems or hardware platforms. They also encoourage the development team to build deployment scripts that are cross platform and can be run from any CI/CD orchestrator or even from the developers local machine which reduces platform dependencies and vendor lock-in. Containers are stored as images and containers that run in Openshift can be run on AWS, GCP or Azure without making any changes to them.</li> <li>Containers are highly efficient and can be quickly deployed. This promotes agility and enables developers to push small changes to components without effecting other components more frequently.</li> <li>Containers ensure consistency and ensure the development, test and production environments remain the same, since the images are build once and deployed multiple times to different environments. This helps developers to detect failures faster and debug them before they can even be deployed to Production.</li> </ol> <h2 id="cons"> <a href="#cons" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Cons </h2> <ol> <li> <p>Despite most orchestration platforms being PaaS, deploying containers still require steps such as choosing the right base image, ensuring the base images are up to date and provisioning other surrounding objects to run the containers such as deployment configurations, build configurations, image streams, services, routes, storage, stateful sets etc. These objects are specific to the different vendors.</p> </li> <li> <p>Persistent data storage is a complicated subject with respect to containers and if you have applications that access network shares like Windows Shares, NFS, FTP etc, it becomes increasingly complicated to lift and shift your application unless you design ways to move your data to the cloud.</p> </li> <li> <p>Only applications that are designed to run as a set of discreet microservices stand to gain the most from containers</p> </li> </ol> <h2 id="the-bc-gov-story"> <a href="#the-bc-gov-story" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> The BC Gov Story </h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>There are several applications being deployed in containers, as well as work is underway on lifting and shifting applications from legacy systems to the Openshift Platform.
</code></pre></div></div> <h3 id="application-statistics"> <a href="#application-statistics" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Application statistics </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Type of Software category</th> <th>Application Archetype</th> <th>Number of Apps on Containers</th> </tr> </thead> <tbody> <tr> <td> </td> <td>Call Centre</td> <td> </td> </tr> <tr> <td> </td> <td>Case Management</td> <td> </td> </tr> <tr> <td> </td> <td>Content Management</td> <td> </td> </tr> <tr> <td> </td> <td>CRM</td> <td> </td> </tr> <tr> <td> </td> <td>Grant Management</td> <td> </td> </tr> <tr> <td> </td> <td>HR</td> <td> </td> </tr> <tr> <td> </td> <td>Learning</td> <td> </td> </tr> <tr> <td> </td> <td>Licensing</td> <td> </td> </tr> <tr> <td>Business Applications</td> <td>Mapping</td> <td> </td> </tr> <tr> <td> </td> <td>Online Disputes</td> <td> </td> </tr> <tr> <td> </td> <td>Payment</td> <td> </td> </tr> <tr> <td> </td> <td>Portfolio Management</td> <td> </td> </tr> <tr> <td> </td> <td>Registry</td> <td> </td> </tr> <tr> <td> </td> <td>Reporting</td> <td> </td> </tr> <tr> <td> </td> <td>Service Management</td> <td> </td> </tr> <tr> <td> </td> <td>Survey</td> <td> </td> </tr> <tr> <td> </td> <td>Search</td> <td> </td> </tr> <tr> <td>Productivity Applications</td> <td>Office 365</td> <td> </td> </tr> <tr> <td> </td> <td>Skype</td> <td> </td> </tr> <tr> <td> </td> <td>DBMS</td> <td> </td> </tr> <tr> <td> </td> <td>Middleware</td> <td> </td> </tr> <tr> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>System Applications</td> <td>Notification</td> <td> </td> </tr> <tr> <td> </td> <td>Integration</td> <td> </td> </tr> <tr> <td> </td> <td>Accessibility</td> <td> </td> </tr> <tr> <td> </td> <td>Access Management</td> <td> </td> </tr> <tr> <td> </td> <td>Bulk Email</td> <td> </td> </tr> </tbody> </table></div> <h3 id="applications-archetypes-that-can-be-hosted-on-container-platforms"> <a href="#applications-archetypes-that-can-be-hosted-on-container-platforms" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Applications Archetypes that can be hosted on Container Platforms </h3> <h3 id="best-practices-to-move-from-physical-servers-to-container-platforms"> <a href="#best-practices-to-move-from-physical-servers-to-container-platforms" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Best Practices to move from Physical Servers to Container Platforms </h3> <h3 id="best-practices-to-move-from-virtual-machines-to-container-platforms"> <a href="#best-practices-to-move-from-virtual-machines-to-container-platforms" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Best Practices to move from Virtual Machines to Container Platforms </h3> <hr> <footer role="contentinfo"> <p class="text-small text-grey-dk-000 mb-0"><a href='https://gov.bc.ca/'> <img src='assets/images/BCID_H_rgb_pos.png' height='42' width='200' style='display: block; margin-left: auto;margin-right: auto;width: 50%;' alt='BC Gov'/> </a></p> </footer> </div> </div> </div> </div> </body> </html>
